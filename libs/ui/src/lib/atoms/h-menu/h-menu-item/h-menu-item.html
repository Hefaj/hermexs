<mat-menu #childMenu="matMenu" [overlapTrigger]="false">
    @for (child of items(); track $index) {
        <!-- Handle branch node menu items -->
        @if (child.children && child.children.length > 0) {
            <button mat-menu-item color="primary" [matMenuTriggerFor]="menu.childMenu">
                <span>{{child.displayName}}</span>
            </button>
            <h-menu-item #menu [items]="child.children" />
        }
        <!-- Handle leaf node menu items -->
        @if (!child.children || child.children.length === 0) {
            <button mat-menu-item (click)="child?.fn()">
                <span>{{child.displayName}}</span>
            </button>
        }
    }
</mat-menu>